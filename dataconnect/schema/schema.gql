type User @table {
  username: String!
  email: String!
  createdAt: Timestamp!
  preferredName: String
  avatarUrl: String
  lastLogin: Timestamp
}

type Conversation @table {
  user: User!
  startedAt: Timestamp!
  endedAt: Timestamp
  conversationSummary: String
}

type Message @table {
  conversation: Conversation!
  senderType: String!
  content: String!
  sentAt: Timestamp!
  detectedEmotion: String
  responseStyleUsed: String
  user: User
}

type EmotionLog @table {
  user: User!
  timestamp: Timestamp!
  detectedEmotion: String!
  confidenceScore: Float
  message: Message
}

type Preference @table {
  user: User!
  preferenceName: String!
  preferenceValue: String!
  createdAt: Timestamp!
  updatedAt: Timestamp
}